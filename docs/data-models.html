<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Models - Service Assessment Service Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        header {
            background: #1d70b8;
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            padding-left: 2rem;
            padding-right: 2rem;
        }
        
        header h1 {
            margin-bottom: 0.25rem;
            font-size: 1.75rem;
        }
        
        header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }
        
        .main-container {
            display: flex;
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            padding: 0;
        }
        
        .sidebar {
            width: 280px;
            background: #003078;
            color: white;
            padding: 2rem 0;
            position: sticky;
            top: 80px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            box-shadow: 2px 0 4px rgba(0,0,0,0.1);
        }
        
        .sidebar nav {
            padding: 0 1rem;
        }
        
        .sidebar nav ul {
            list-style: none;
        }
        
        .sidebar nav li {
            margin: 0.25rem 0;
        }
        
        .sidebar nav a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            padding: 0.75rem 1rem;
            display: block;
            border-radius: 4px;
            transition: all 0.2s;
            font-size: 0.95rem;
        }
        
        .sidebar nav a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .sidebar nav a.active {
            background: #1d70b8;
            color: white;
            font-weight: 500;
        }
        
        .content-wrapper {
            flex: 1;
            background: #f5f5f5;
            padding: 2rem;
            min-height: calc(100vh - 80px);
        }
        
        .content {
            background: white;
            padding: 2.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 1000px;
        }
        
        
        h1, h2, h3, h4 {
            color: #1d70b8;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 2.25rem;
            margin-top: 0;
            border-bottom: 3px solid #1d70b8;
            padding-bottom: 0.75rem;
        }
        
        h2 {
            font-size: 1.75rem;
            border-bottom: 2px solid #1d70b8;
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
        }
        
        h3 {
            font-size: 1.35rem;
            margin-top: 1.5rem;
            color: #1d70b8;
        }
        
        h4 {
            font-size: 1.15rem;
            color: #003078;
            margin-top: 1rem;
        }
        
        
        a {
            color: #1d70b8;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }
        
        table th, table td {
            padding: 0.875rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        table th {
            background: #1d70b8;
            color: white;
            font-weight: 600;
        }
        
        table tr:hover {
            background: #f8f9fa;
        }
        
        code {
            background: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #d4351c;
        }
        
        pre {
            background: #f4f4f4;
            padding: 1.25rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1.5rem 0;
            border-left: 4px solid #1d70b8;
        }
        
        ul, ol {
            margin-left: 2rem;
            margin-top: 0.75rem;
        }
        
        li {
            margin: 0.5rem 0;
            line-height: 1.7;
        }
        
        p {
            margin: 1rem 0;
            line-height: 1.7;
        }
        
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: relative;
                top: 0;
                height: auto;
            }
            
            .content-wrapper {
                padding: 1rem;
            }
            
            
        }
    </style>
</head>
<body>
        <header>
        <h1>Service Assessment Service</h1>
        <p>Data Models Documentation</p>
    </header>
    
    <div class="main-container">
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="features.html">Features</a></li>
                    <li><a href="data-models.html" class="active">Data Models</a></li>
                    <li><a href="data-dictionary.html">Data Dictionary</a></li>
                    <li><a href="user-flows.html">User Flows</a></li>
                    <li><a href="models.html">Application Models</a></li>
                    <li><a href="authentication.html">Authentication</a></li>
                    <li><a href="roadmap.html">Roadmap</a></li>
                </ul>
            </nav>
        </aside>
        
        <main class="content-wrapper">
                <div class="content"><h1>Data Models Documentation</h1>
            
            <p>This document describes the conceptual data models used in the Service Assessment Service, their relationships, and key attributes.</p>
            
            <h2>Table of Contents</h2>
                <ul>
                    <li><a href="#user-model">User Model</a></li>
                    <li><a href="#assessment-model">Assessment Model</a></li>
                    <li><a href="#assessor-model">Assessor Model</a></li>
                    <li><a href="#service-standard-model">Service Standard Model</a></li>
                    <li><a href="#relationship-models">Relationship Models</a></li>
                </ul>
            
            <section id="user-model" class="model-section">
                <h2>User Model</h2>
                
                <p>The User model represents system users and contains authentication and profile information.</p>
                
                <h3>Key Attributes</h3>
                <div class="property">
                    <span class="property-name">UserID</span> - Unique identifier for the user
                </div>
                <div class="property">
                    <span class="property-name">EmailAddress</span> - User's email address (unique, lowercase, used for authentication)
                </div>
                <div class="property">
                    <span class="property-name">Token</span> - Magic link authentication token (UUID)
                </div>
                <div class="property">
                    <span class="property-name">TokenExpiry</span> - Expiry date/time for the authentication token (30 minutes from generation)
                </div>
                <div class="property">
                    <span class="property-name">FirstName</span> - User's first name
                </div>
                <div class="property">
                    <span class="property-name">LastName</span> - User's last name
                </div>
                <div class="property">
                    <span class="property-name">Department</span> - Foreign key to Department (determined by email domain)
                </div>
                <div class="property">
                    <span class="property-name">AccountActive</span> - Boolean flag indicating if account is active
                </div>
                
                <h3>Relationships</h3>
                <ul>
                    <li>Belongs to one <strong>Department</strong> (via Department foreign key)</li>
                    <li>Can have multiple <strong>UserRoles</strong> (Administrator, Department lead, Service Administrator)</li>
                    <li>Can be one <strong>Assessor</strong></li>
                    <li>Can create multiple <strong>Assessments</strong> (via CreatedBy)</li>
                    <li>Can be assigned to multiple <strong>Assessments</strong> as DD, PM, DM, or SRO</li>
                    <li>Can be on multiple <strong>AssessmentPanels</strong></li>
                    <li>Can be on multiple <strong>AssessmentTeams</strong></li>
                </ul>
            </section>
            
            <section id="assessment-model" class="model-section">
                <h2>Assessment Model</h2>
                
                <p>The Assessment model is the core entity representing service assessment requests and their lifecycle.</p>
                
                <h3>Key Attributes</h3>
                
                <h4>Identification</h4>
                <div class="property">
                    <span class="property-name">AssessmentID</span> - Unique identifier for the assessment
                </div>
                <div class="property">
                    <span class="property-name">FIPS_ID</span> - FIPS product ID (for integration with Find, Interact, Publish, Share system)
                </div>
                
                <h4>Classification</h4>
                <div class="property">
                    <span class="property-name">Type</span> - Assessment type: "Service Assessment" or "Peer Review"
                </div>
                <div class="property">
                    <span class="property-name">Phase</span> - Service phase: "Alpha", "Beta", "Live", or "Other"
                </div>
                <div class="property">
                    <span class="property-name">Status</span> - Current status: "Draft", "Submitted", "Active", "Completed", "Published", "Rejected"
                </div>
                <div class="property">
                    <span class="property-name">Outcome</span> - Assessment outcome: "Not rated", "Green", "Amber", or "Red"
                </div>
                
                <h4>Service Information</h4>
                <div class="property">
                    <span class="property-name">Name</span> - Service name (max 300 characters)
                </div>
                <div class="property">
                    <span class="property-name">Description</span> - Service description (max 750 characters)
                </div>
                <div class="property">
                    <span class="property-name">ProjectCode</span> - Project code (optional)
                </div>
                
                <h4>Dates</h4>
                <div class="property">
                    <span class="property-name">StartDate</span> - Service start date
                </div>
                <div class="property">
                    <span class="property-name">EndDate</span> - Service end date (optional)
                </div>
                <div class="property">
                    <span class="property-name">RequestedWeeks</span> - Requested assessment weeks
                </div>
                <div class="property">
                    <span class="property-name">AssessmentDateTime</span> - Scheduled assessment date and time
                </div>
                <div class="property">
                    <span class="property-name">AssessmentTime</span> - Assessment time slot
                </div>
                
                <h4>Team Members</h4>
                <div class="property">
                    <span class="property-name">CreatedBy</span> - Primary contact (user who created the assessment)
                </div>
                <div class="property">
                    <span class="property-name">DD</span> - Delivery Director (foreign key to User)
                </div>
                <div class="property">
                    <span class="property-name">SRO</span> - Senior Responsible Owner (foreign key to User)
                </div>
                <div class="property">
                    <span class="property-name">PM</span> - Product Manager (optional, foreign key to User)
                </div>
                <div class="property">
                    <span class="property-name">DM</span> - Delivery Manager (optional, foreign key to User)
                </div>
                
                <h4>Assessment Data</h4>
                <div class="property">
                    <span class="property-name">Portfolio</span> - Portfolio assignment
                </div>
                <div class="property">
                    <span class="property-name">PanelComments</span> - Overall panel comments
                </div>
                <div class="property">
                    <span class="property-name">PanelCommentsImprove</span> - Panel comments on areas for improvement
                </div>
                <div class="property">
                    <span class="property-name">PanelCommentsComplete</span> - Boolean flag indicating panel comments are complete
                </div>
                
                <h4>Metadata</h4>
                <div class="property">
                    <span class="property-name">Department</span> - Department the assessment belongs to
                </div>
                <div class="property">
                    <span class="property-name">SlackID</span> - Slack channel ID (for integration)
                </div>
                <div class="property">
                    <span class="property-name">CreatedDate</span> - When the assessment was created
                </div>
                <div class="property">
                    <span class="property-name">SubmittedDate</span> - When the assessment was submitted
                </div>
                
                <h3>Relationships</h3>
                <ul>
                    <li>Belongs to one <strong>Department</strong></li>
                    <li>Created by one <strong>User</strong> (CreatedBy)</li>
                    <li>Has team members via foreign keys (DD, SRO, PM, DM) and <strong>AssessmentTeam</strong> table</li>
                    <li>Has multiple <strong>AssessmentPanel</strong> members (assessors)</li>
                    <li>Has 14 <strong>ServiceStandardOutcomes</strong> (one per standard)</li>
                    <li>Can have multiple <strong>Actions</strong> (for Red/Amber ratings)</li>
                    <li>Can have multiple <strong>Comments</strong> (standard-specific comments)</li>
                    <li>Can have multiple <strong>AssessmentArtefacts</strong></li>
                    <li>Can have multiple <strong>SurveyData</strong> responses</li>
                    <li>Has multiple <strong>Audit</strong> entries for tracking changes</li>
                </ul>
                
                <h3>Status Lifecycle</h3>
                <ol>
                    <li><strong>Draft</strong> - Assessment is being created</li>
                    <li><strong>Submitted</strong> - Assessment has been submitted by the team</li>
                    <li><strong>Active</strong> - Assessment is being assessed</li>
                    <li><strong>Completed</strong> - Assessment report is complete</li>
                    <li><strong>Published</strong> - Assessment report is published</li>
                    <li><strong>Rejected</strong> - Assessment request was rejected</li>
                </ol>
            </section>
            
            <section id="assessor-model" class="model-section">
                <h2>Assessor Model</h2>
                
                <p>The Assessor model represents users who can assess services against the Service Standard.</p>
                
                <h3>Key Attributes</h3>
                <div class="property">
                    <span class="property-name">AssessorID</span> - Unique identifier for the assessor record
                </div>
                <div class="property">
                    <span class="property-name">UserID</span> - Foreign key to User (one assessor per user)
                </div>
                <div class="property">
                    <span class="property-name">PrimaryRole</span> - Primary assessor role (e.g., "Design assessor", "Technical assessor")
                </div>
                <div class="property">
                    <span class="property-name">Active</span> - Boolean flag indicating if assessor is currently active
                </div>
                <div class="property">
                    <span class="property-name">CrossGovAssessor</span> - Boolean flag indicating assessor can assess across government departments
                </div>
                <div class="property">
                    <span class="property-name">LeadAssessor</span> - Boolean flag indicating assessor can be a lead assessor
                </div>
                <div class="property">
                    <span class="property-name">ExternalAssessor</span> - Boolean flag indicating assessor is external to the department
                </div>
                <div class="property">
                    <span class="property-name">DepartmentID</span> - Department the assessor belongs to
                </div>
                <div class="property">
                    <span class="property-name">Deleted</span> - Soft delete flag
                </div>
                
                <h3>Relationships</h3>
                <ul>
                    <li>Belongs to one <strong>User</strong> (one-to-one relationship)</li>
                    <li>Belongs to one <strong>Department</strong></li>
                    <li>Can be on multiple <strong>AssessmentPanels</strong> (with different roles per assessment)</li>
                    <li>Can have multiple <strong>AssessorTraining</strong> records</li>
                </ul>
            </section>
            
            <section id="service-standard-model" class="model-section">
                <h2>Service Standard Model</h2>
                
                <p>The Service Standard model stores the 14 Service Standard points and their details.</p>
                
                <h3>Key Attributes</h3>
                <div class="property">
                    <span class="property-name">ID</span> - Unique identifier for the standard
                </div>
                <div class="property">
                    <span class="property-name">Point</span> - Standard point number (1-14)
                </div>
                <div class="property">
                    <span class="property-name">Title</span> - Standard title
                </div>
                <div class="property">
                    <span class="property-name">Description</span> - Standard description
                </div>
                <div class="property">
                    <span class="property-name">Url</span> - URL to standard documentation
                </div>
                <div class="property">
                    <span class="property-name">Assessors</span> - Recommended assessor types for this standard
                </div>
                <div class="property">
                    <span class="property-name">StandardOwner</span> - Standard owner organization
                </div>
                
                <h3>Relationships</h3>
                <ul>
                    <li>Has multiple <strong>ServiceStandardOutcomes</strong> (one per assessment)</li>
                </ul>
            </section>
            
            <section id="relationship-models" class="model-section">
                <h2>Relationship Models</h2>
                
                <h3>AssessmentPanel</h3>
                <p>Links assessors to specific assessments with their assigned roles.</p>
                <ul>
                    <li><strong>AssessmentPanelID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>UserID</strong> - Foreign key to User (assessor)</li>
                    <li><strong>Role</strong> - Role on panel: "Lead assessor", "Design assessor", "Technical assessor", "Accessibility assessor", "User research assessor", "Performance assessor"</li>
                    <li><strong>UniqueID</strong> - UUID for the assignment</li>
                </ul>
                
                <h3>ServiceStandardOutcomes</h3>
                <p>Stores assessment outcomes for each Service Standard point per assessment.</p>
                <ul>
                    <li><strong>ID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>Standard</strong> - Standard point number (1-14)</li>
                    <li><strong>Outcome</strong> - Assessment outcome: "Green", "Amber", "Red", or "NA"</li>
                    <li><strong>CreatedBy</strong> - User who created the outcome</li>
                    <li><strong>Created</strong> - Timestamp when outcome was created</li>
                </ul>
                <p><strong>Unique Constraint:</strong> One outcome per standard per assessment</p>
                
                <h3>Actions</h3>
                <p>Stores actions created for standards rated Red or Amber.</p>
                <ul>
                    <li><strong>ActionID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>Point</strong> - Service Standard point this action relates to</li>
                    <li><strong>Comments</strong> - Action description/comments (max 1000 characters)</li>
                    <li><strong>Status</strong> - Action status</li>
                    <li><strong>AssignedTo</strong> - User ID the action is assigned to</li>
                    <li><strong>EstimatedResolutionDate</strong> - Estimated date for action resolution</li>
                    <li><strong>CreatedBy</strong> - User who created the action</li>
                    <li><strong>Created</strong> - Timestamp when action was created</li>
                </ul>
                
                <h3>Comments</h3>
                <p>Stores comments related to specific Service Standard points within assessments.</p>
                <ul>
                    <li><strong>CommentID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>Point</strong> - Service Standard point this comment relates to</li>
                    <li><strong>Comments</strong> - Comment text (max 1000 characters)</li>
                    <li><strong>Status</strong> - Comment status</li>
                    <li><strong>AssignedTo</strong> - User ID the comment is assigned to</li>
                    <li><strong>CreatedBy</strong> - User who created the comment</li>
                    <li><strong>Created</strong> - Timestamp when comment was created</li>
                </ul>
                
                <h3>AssessmentTeam</h3>
                <p>Stores team members associated with assessments (in addition to DD, PM, DM stored directly on Assessment).</p>
                <ul>
                    <li><strong>ID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>UserID</strong> - Foreign key to User (team member)</li>
                    <li><strong>Role</strong> - Team member role</li>
                    <li><strong>UniqueID</strong> - UUID for the assignment</li>
                </ul>
                
                <h3>AssessmentArtefacts</h3>
                <p>Stores artefacts (documents, links, resources) associated with assessments.</p>
                <ul>
                    <li><strong>ArtefactID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>Title</strong> - Artefact title (max 70 characters)</li>
                    <li><strong>Description</strong> - Artefact description (max 200 characters)</li>
                    <li><strong>URL</strong> - URL to the artefact</li>
                    <li><strong>CreatedBy</strong> - User who created the artefact</li>
                    <li><strong>Created</strong> - Timestamp when artefact was created</li>
                </ul>
                
                <h3>Audit</h3>
                <p>Stores audit trail of actions taken in the system.</p>
                <ul>
                    <li><strong>ActionID</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment (optional)</li>
                    <li><strong>Action</strong> - Action description (e.g., "Report sent to team", "Report accepted")</li>
                    <li><strong>Comments</strong> - Additional comments</li>
                    <li><strong>CreatedBy</strong> - User who performed the action</li>
                    <li><strong>Created</strong> - Timestamp when action was performed</li>
                </ul>
                
                <h3>SurveyData</h3>
                <p>Stores post-assessment survey responses from service teams.</p>
                <ul>
                    <li><strong>id</strong> - Unique identifier</li>
                    <li><strong>AssessmentID</strong> - Foreign key to Assessment</li>
                    <li><strong>UserID</strong> - Foreign key to User (who completed survey)</li>
                    <li><strong>preAssessmentCall</strong> - Rating for pre-assessment call (1-5)</li>
                    <li><strong>organisationOfServiceAssessment</strong> - Rating for organization (1-5)</li>
                    <li><strong>runningOfAssessment</strong> - Rating for running of assessment (1-5)</li>
                    <li><strong>feedbackOnLowScores</strong> - Elaboration on low scores</li>
                    <li><strong>specificFeedbackForAssessor</strong> - Feedback for assessor panel</li>
                    <li><strong>furtherComments</strong> - Additional comments</li>
                </ul>
            </section>
                        </div>
        
    </div>
        </main>
    </div>
</body>
</html>

