{% extends "layouts/public.html" %}

{% set pageName = "Cookie policy" %}
{% set pageDescription = "Cookie policy for the service assessment service" %}
{% set selectedNav = "Home" %}
{% set setSelectedSideNav = "" %}
{% set backlog_issue_id = "" %}

{% block beforeContent %}{% endblock %}

{% block content %}

   
        <h1 class="govuk-heading-l">Cookie policy</h1>
        <p>Cookies are small files saved on your phone, tablet or computer when you visit a website.</p>
        <p>We use cookies to make the service assessment service work and collect information about how you use this website.</p>
        <h2 id="essential-cookies" tabindex="-1">Essential cookies</h2>
        <p>Essential cookies keep your information secure while you use the service assessment service. We do not need to ask permission to use them.</p>
        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Name</th>
                    <th scope="col" class="govuk-table__header">Purpose</th>
                    <th scope="col" class="govuk-table__header">Expires</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">cookie-preferences</td>
                    <td class="govuk-table__cell">Saves your cookie consent settings</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
            </tbody>
        </table>
        <h2 id="analytics-cookies-(optional)" tabindex="-1">Analytics cookies (optional)</h2>
        <p>With your permission, we use Google Analytics to collect data about how you use this service. This information helps us to improve our service.</p>
        <p>Google is not allowed to use or share our analytics data with anyone.</p>
        <p>Google Analytics stores anonymised information about:</p>
        <ul>
            <li>how you got to these sites</li>
            <li>the pages you visit and how long you spend on each page</li>
            <li>what you click on while you’re visiting these sites</li>
        </ul>
        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Name</th>
                    <th scope="col" class="govuk-table__header">Purpose</th>
                    <th scope="col" class="govuk-table__header">Expires</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">_ga</td>
                    <td class="govuk-table__cell">Helps us count how many people visit the service assessment service by tracking if you’ve visited before</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">CLID</td>
                    <td class="govuk-table__cell">Used by Microsoft Clarity to help us understand service assessment service usage</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">MUID</td>
                    <td class="govuk-table__cell">Used by Microsoft Clarity to help us understand service assessment service usage</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
            </tbody>
        </table>
        <noscript>
            <h2>Change your cookie settings</h2>
            <p class="govuk-body">We cannot change your cookie settings at the moment because JavaScript is not running in your browser. To fix this, try:</p>
            <ul class="govuk-list govuk-list--bullet">
                <li>turning on JavaScript in your browser settings</li>
                <li>reloading this page</li>
            </ul>
        </noscript>
        <form name="cookie-settings" class="js-cookie-setting-form">
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s"> Do you want to accept analytics cookies? </legend>
                    <div class="govuk-radios" data-module="govuk-radios">
                        <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="analytics-cookies-yes" name="analytics-cookies" type="radio" value="1">
                            <label class="govuk-label govuk-radios__label" for="analytics-cookies-yes"> Yes </label>
                        </div>
                        <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="analytics-cookies-no" name="analytics-cookies" type="radio" value="0">
                            <label class="govuk-label govuk-radios__label" for="analytics-cookies-no"> No </label>
                        </div>
                    </div>
                </fieldset>
            </div>
            <p>
                <button type="submit" class="govuk-button" data-module="govuk-button"> Save cookie settings </button>
            </p>
        </form>
   



<script>
    // check if the cookie-preferences cookie exists
    if (document.cookie.indexOf("cookie-preferences") !== -1) {
        // get the value of the cookie
        var cookieValue = JSON.parse(getCookie("cookie-preferences"));

        // check if the analytics preference is set to "on"
    if (cookieValue.analytics === "on") {
            // set the "analytics-cookies-yes" radio button to be checked by default
            document.getElementById("analytics-cookies-yes").checked = true;
        } else {
            // set the "analytics-cookies-no" radio button to be checked by default
            document.getElementById("analytics-cookies-no").checked = true;
        }
    }

    // function to get the value of a cookie
    function getCookie(name) {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        if (parts.length === 2) {
            return parts.pop().split(";").shift();
        }
    }

 var cookieForm = document.querySelector('.js-cookie-setting-form');
    cookieForm.addEventListener('submit', function(event) {
        event.preventDefault();

        // check which radio button is checked
        var analyticsCookies = document.querySelector('input[name="analytics-cookies"]:checked').value;

        // delete all cookies if "No" radio button is checked
        if (analyticsCookies === "0") {
            var cookies = document.cookie.split(";");
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i];
                var eqPos = cookie.indexOf("=");
                var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
            }
        } 

        // submit the form
        cookieForm.submit();
    });
</script>{% endblock %}